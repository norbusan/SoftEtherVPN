From 4966ccc9471bc76a8a519e2e12fdf03e3ff0fa02 Mon Sep 17 00:00:00 2001
From: Norbert Preining <norbert@preining.info>
Date: Tue, 22 May 2018 10:42:39 +0900
Subject: [PATCH 2/2] create all necessary directories on installation

---
 src/makefiles/freebsd_32bit.mak | 4 ++++
 src/makefiles/freebsd_64bit.mak | 4 ++++
 src/makefiles/linux_32bit.mak   | 4 ++++
 src/makefiles/linux_64bit.mak   | 4 ++++
 src/makefiles/macos_32bit.mak   | 4 ++++
 src/makefiles/macos_64bit.mak   | 4 ++++
 src/makefiles/openbsd_32bit.mak | 4 ++++
 src/makefiles/openbsd_64bit.mak | 4 ++++
 src/makefiles/solaris_32bit.mak | 4 ++++
 src/makefiles/solaris_64bit.mak | 4 ++++
 10 files changed, 40 insertions(+)

diff --git a/src/makefiles/freebsd_32bit.mak b/src/makefiles/freebsd_32bit.mak
index 0684dba1..0f17a8d7 100644
--- a/src/makefiles/freebsd_32bit.mak
+++ b/src/makefiles/freebsd_32bit.mak
@@ -393,6 +393,7 @@ install: $(DESTDIR)$(INSTALL_BINDIR)vpnserver $(DESTDIR)$(INSTALL_BINDIR)vpnbrid
 
 $(DESTDIR)$(INSTALL_BINDIR)vpnserver: bin/vpnserver/hamcore.se2 bin/vpnserver/vpnserver
 	@mkdir -p $(DESTDIR)$(INSTALL_VPNSERVER_DIR)
+	@mkdir -p $(DESTDIR)$(INSTALL_BINDIR)
 	cp bin/vpnserver/hamcore.se2 $(DESTDIR)$(INSTALL_VPNSERVER_DIR)hamcore.se2
 	cp bin/vpnserver/vpnserver $(DESTDIR)$(INSTALL_VPNSERVER_DIR)vpnserver
 	echo "#!/bin/sh" > $(DESTDIR)$(INSTALL_BINDIR)vpnserver
@@ -402,6 +403,7 @@ $(DESTDIR)$(INSTALL_BINDIR)vpnserver: bin/vpnserver/hamcore.se2 bin/vpnserver/vp
 
 $(DESTDIR)$(INSTALL_BINDIR)vpnbridge: bin/vpnbridge/hamcore.se2 bin/vpnbridge/vpnbridge
 	@mkdir -p $(DESTDIR)$(INSTALL_VPNBRIDGE_DIR)
+	@mkdir -p $(DESTDIR)$(INSTALL_BINDIR)
 	cp bin/vpnbridge/hamcore.se2 $(DESTDIR)$(INSTALL_VPNBRIDGE_DIR)hamcore.se2
 	cp bin/vpnbridge/vpnbridge $(DESTDIR)$(INSTALL_VPNBRIDGE_DIR)vpnbridge
 	echo "#!/bin/sh" > $(DESTDIR)$(INSTALL_BINDIR)vpnbridge
@@ -411,6 +413,7 @@ $(DESTDIR)$(INSTALL_BINDIR)vpnbridge: bin/vpnbridge/hamcore.se2 bin/vpnbridge/vp
 
 $(DESTDIR)$(INSTALL_BINDIR)vpnclient: bin/vpnclient/hamcore.se2 bin/vpnclient/vpnclient
 	@mkdir -p $(DESTDIR)$(INSTALL_VPNCLIENT_DIR)
+	@mkdir -p $(DESTDIR)$(INSTALL_BINDIR)
 	cp bin/vpnclient/hamcore.se2 $(DESTDIR)$(INSTALL_VPNCLIENT_DIR)hamcore.se2
 	cp bin/vpnclient/vpnclient $(DESTDIR)$(INSTALL_VPNCLIENT_DIR)vpnclient
 	echo "#!/bin/sh" > $(DESTDIR)$(INSTALL_BINDIR)vpnclient
@@ -420,6 +423,7 @@ $(DESTDIR)$(INSTALL_BINDIR)vpnclient: bin/vpnclient/hamcore.se2 bin/vpnclient/vp
 
 $(DESTDIR)$(INSTALL_BINDIR)vpncmd: bin/vpncmd/hamcore.se2 bin/vpncmd/vpncmd
 	@mkdir -p $(DESTDIR)$(INSTALL_VPNCMD_DIR)
+	@mkdir -p $(DESTDIR)$(INSTALL_BINDIR)
 	cp bin/vpncmd/hamcore.se2 $(DESTDIR)$(INSTALL_VPNCMD_DIR)hamcore.se2
 	cp bin/vpncmd/vpncmd $(DESTDIR)$(INSTALL_VPNCMD_DIR)vpncmd
 	echo "#!/bin/sh" > $(DESTDIR)$(INSTALL_BINDIR)vpncmd
diff --git a/src/makefiles/freebsd_64bit.mak b/src/makefiles/freebsd_64bit.mak
index f8eb8fd7..c4ce9cac 100644
--- a/src/makefiles/freebsd_64bit.mak
+++ b/src/makefiles/freebsd_64bit.mak
@@ -393,6 +393,7 @@ install: $(DESTDIR)$(INSTALL_BINDIR)vpnserver $(DESTDIR)$(INSTALL_BINDIR)vpnbrid
 
 $(DESTDIR)$(INSTALL_BINDIR)vpnserver: bin/vpnserver/hamcore.se2 bin/vpnserver/vpnserver
 	@mkdir -p $(DESTDIR)$(INSTALL_VPNSERVER_DIR)
+	@mkdir -p $(DESTDIR)$(INSTALL_BINDIR)
 	cp bin/vpnserver/hamcore.se2 $(DESTDIR)$(INSTALL_VPNSERVER_DIR)hamcore.se2
 	cp bin/vpnserver/vpnserver $(DESTDIR)$(INSTALL_VPNSERVER_DIR)vpnserver
 	echo "#!/bin/sh" > $(DESTDIR)$(INSTALL_BINDIR)vpnserver
@@ -402,6 +403,7 @@ $(DESTDIR)$(INSTALL_BINDIR)vpnserver: bin/vpnserver/hamcore.se2 bin/vpnserver/vp
 
 $(DESTDIR)$(INSTALL_BINDIR)vpnbridge: bin/vpnbridge/hamcore.se2 bin/vpnbridge/vpnbridge
 	@mkdir -p $(DESTDIR)$(INSTALL_VPNBRIDGE_DIR)
+	@mkdir -p $(DESTDIR)$(INSTALL_BINDIR)
 	cp bin/vpnbridge/hamcore.se2 $(DESTDIR)$(INSTALL_VPNBRIDGE_DIR)hamcore.se2
 	cp bin/vpnbridge/vpnbridge $(DESTDIR)$(INSTALL_VPNBRIDGE_DIR)vpnbridge
 	echo "#!/bin/sh" > $(DESTDIR)$(INSTALL_BINDIR)vpnbridge
@@ -411,6 +413,7 @@ $(DESTDIR)$(INSTALL_BINDIR)vpnbridge: bin/vpnbridge/hamcore.se2 bin/vpnbridge/vp
 
 $(DESTDIR)$(INSTALL_BINDIR)vpnclient: bin/vpnclient/hamcore.se2 bin/vpnclient/vpnclient
 	@mkdir -p $(DESTDIR)$(INSTALL_VPNCLIENT_DIR)
+	@mkdir -p $(DESTDIR)$(INSTALL_BINDIR)
 	cp bin/vpnclient/hamcore.se2 $(DESTDIR)$(INSTALL_VPNCLIENT_DIR)hamcore.se2
 	cp bin/vpnclient/vpnclient $(DESTDIR)$(INSTALL_VPNCLIENT_DIR)vpnclient
 	echo "#!/bin/sh" > $(DESTDIR)$(INSTALL_BINDIR)vpnclient
@@ -420,6 +423,7 @@ $(DESTDIR)$(INSTALL_BINDIR)vpnclient: bin/vpnclient/hamcore.se2 bin/vpnclient/vp
 
 $(DESTDIR)$(INSTALL_BINDIR)vpncmd: bin/vpncmd/hamcore.se2 bin/vpncmd/vpncmd
 	@mkdir -p $(DESTDIR)$(INSTALL_VPNCMD_DIR)
+	@mkdir -p $(DESTDIR)$(INSTALL_BINDIR)
 	cp bin/vpncmd/hamcore.se2 $(DESTDIR)$(INSTALL_VPNCMD_DIR)hamcore.se2
 	cp bin/vpncmd/vpncmd $(DESTDIR)$(INSTALL_VPNCMD_DIR)vpncmd
 	echo "#!/bin/sh" > $(DESTDIR)$(INSTALL_BINDIR)vpncmd
diff --git a/src/makefiles/linux_32bit.mak b/src/makefiles/linux_32bit.mak
index 71134569..7d70c4d2 100644
--- a/src/makefiles/linux_32bit.mak
+++ b/src/makefiles/linux_32bit.mak
@@ -393,6 +393,7 @@ install: $(DESTDIR)$(INSTALL_BINDIR)vpnserver $(DESTDIR)$(INSTALL_BINDIR)vpnbrid
 
 $(DESTDIR)$(INSTALL_BINDIR)vpnserver: bin/vpnserver/hamcore.se2 bin/vpnserver/vpnserver
 	@mkdir -p $(DESTDIR)$(INSTALL_VPNSERVER_DIR)
+	@mkdir -p $(DESTDIR)$(INSTALL_BINDIR)
 	cp bin/vpnserver/hamcore.se2 $(DESTDIR)$(INSTALL_VPNSERVER_DIR)hamcore.se2
 	cp bin/vpnserver/vpnserver $(DESTDIR)$(INSTALL_VPNSERVER_DIR)vpnserver
 	echo "#!/bin/sh" > $(DESTDIR)$(INSTALL_BINDIR)vpnserver
@@ -402,6 +403,7 @@ $(DESTDIR)$(INSTALL_BINDIR)vpnserver: bin/vpnserver/hamcore.se2 bin/vpnserver/vp
 
 $(DESTDIR)$(INSTALL_BINDIR)vpnbridge: bin/vpnbridge/hamcore.se2 bin/vpnbridge/vpnbridge
 	@mkdir -p $(DESTDIR)$(INSTALL_VPNBRIDGE_DIR)
+	@mkdir -p $(DESTDIR)$(INSTALL_BINDIR)
 	cp bin/vpnbridge/hamcore.se2 $(DESTDIR)$(INSTALL_VPNBRIDGE_DIR)hamcore.se2
 	cp bin/vpnbridge/vpnbridge $(DESTDIR)$(INSTALL_VPNBRIDGE_DIR)vpnbridge
 	echo "#!/bin/sh" > $(DESTDIR)$(INSTALL_BINDIR)vpnbridge
@@ -411,6 +413,7 @@ $(DESTDIR)$(INSTALL_BINDIR)vpnbridge: bin/vpnbridge/hamcore.se2 bin/vpnbridge/vp
 
 $(DESTDIR)$(INSTALL_BINDIR)vpnclient: bin/vpnclient/hamcore.se2 bin/vpnclient/vpnclient
 	@mkdir -p $(DESTDIR)$(INSTALL_VPNCLIENT_DIR)
+	@mkdir -p $(DESTDIR)$(INSTALL_BINDIR)
 	cp bin/vpnclient/hamcore.se2 $(DESTDIR)$(INSTALL_VPNCLIENT_DIR)hamcore.se2
 	cp bin/vpnclient/vpnclient $(DESTDIR)$(INSTALL_VPNCLIENT_DIR)vpnclient
 	echo "#!/bin/sh" > $(DESTDIR)$(INSTALL_BINDIR)vpnclient
@@ -420,6 +423,7 @@ $(DESTDIR)$(INSTALL_BINDIR)vpnclient: bin/vpnclient/hamcore.se2 bin/vpnclient/vp
 
 $(DESTDIR)$(INSTALL_BINDIR)vpncmd: bin/vpncmd/hamcore.se2 bin/vpncmd/vpncmd
 	@mkdir -p $(DESTDIR)$(INSTALL_VPNCMD_DIR)
+	@mkdir -p $(DESTDIR)$(INSTALL_BINDIR)
 	cp bin/vpncmd/hamcore.se2 $(DESTDIR)$(INSTALL_VPNCMD_DIR)hamcore.se2
 	cp bin/vpncmd/vpncmd $(DESTDIR)$(INSTALL_VPNCMD_DIR)vpncmd
 	chmod 644 $(DESTDIR)$(INSTALL_VPNCMD_DIR)hamcore.se2
diff --git a/src/makefiles/linux_64bit.mak b/src/makefiles/linux_64bit.mak
index 9a89adce..7188b89f 100644
--- a/src/makefiles/linux_64bit.mak
+++ b/src/makefiles/linux_64bit.mak
@@ -399,6 +399,7 @@ install: $(DESTDIR)$(INSTALL_BINDIR)vpnserver $(DESTDIR)$(INSTALL_BINDIR)vpnbrid
 
 $(DESTDIR)$(INSTALL_BINDIR)vpnserver: bin/vpnserver/hamcore.se2 bin/vpnserver/vpnserver
 	@mkdir -p $(DESTDIR)$(INSTALL_VPNSERVER_DIR)
+	@mkdir -p $(DESTDIR)$(INSTALL_BINDIR)
 	cp bin/vpnserver/hamcore.se2 $(DESTDIR)$(INSTALL_VPNSERVER_DIR)hamcore.se2
 	cp bin/vpnserver/vpnserver $(DESTDIR)$(INSTALL_VPNSERVER_DIR)vpnserver
 	echo "#!/bin/sh" > $(DESTDIR)$(INSTALL_BINDIR)vpnserver
@@ -408,6 +409,7 @@ $(DESTDIR)$(INSTALL_BINDIR)vpnserver: bin/vpnserver/hamcore.se2 bin/vpnserver/vp
 
 $(DESTDIR)$(INSTALL_BINDIR)vpnbridge: bin/vpnbridge/hamcore.se2 bin/vpnbridge/vpnbridge
 	@mkdir -p $(DESTDIR)$(INSTALL_VPNBRIDGE_DIR)
+	@mkdir -p $(DESTDIR)$(INSTALL_BINDIR)
 	cp bin/vpnbridge/hamcore.se2 $(DESTDIR)$(INSTALL_VPNBRIDGE_DIR)hamcore.se2
 	cp bin/vpnbridge/vpnbridge $(DESTDIR)$(INSTALL_VPNBRIDGE_DIR)vpnbridge
 	echo "#!/bin/sh" > $(DESTDIR)$(INSTALL_BINDIR)vpnbridge
@@ -417,6 +419,7 @@ $(DESTDIR)$(INSTALL_BINDIR)vpnbridge: bin/vpnbridge/hamcore.se2 bin/vpnbridge/vp
 
 $(DESTDIR)$(INSTALL_BINDIR)vpnclient: bin/vpnclient/hamcore.se2 bin/vpnclient/vpnclient
 	@mkdir -p $(DESTDIR)$(INSTALL_VPNCLIENT_DIR)
+	@mkdir -p $(DESTDIR)$(INSTALL_BINDIR)
 	cp bin/vpnclient/hamcore.se2 $(DESTDIR)$(INSTALL_VPNCLIENT_DIR)hamcore.se2
 	cp bin/vpnclient/vpnclient $(DESTDIR)$(INSTALL_VPNCLIENT_DIR)vpnclient
 	echo "#!/bin/sh" > $(DESTDIR)$(INSTALL_BINDIR)vpnclient
@@ -426,6 +429,7 @@ $(DESTDIR)$(INSTALL_BINDIR)vpnclient: bin/vpnclient/hamcore.se2 bin/vpnclient/vp
 
 $(DESTDIR)$(INSTALL_BINDIR)vpncmd: bin/vpncmd/hamcore.se2 bin/vpncmd/vpncmd
 	@mkdir -p $(DESTDIR)$(INSTALL_VPNCMD_DIR)
+	@mkdir -p $(DESTDIR)$(INSTALL_BINDIR)
 	cp bin/vpncmd/hamcore.se2 $(DESTDIR)$(INSTALL_VPNCMD_DIR)hamcore.se2
 	cp bin/vpncmd/vpncmd $(DESTDIR)$(INSTALL_VPNCMD_DIR)vpncmd
 	chmod 644 $(DESTDIR)$(INSTALL_VPNCMD_DIR)hamcore.se2
diff --git a/src/makefiles/macos_32bit.mak b/src/makefiles/macos_32bit.mak
index 5613f9eb..7f9219a7 100644
--- a/src/makefiles/macos_32bit.mak
+++ b/src/makefiles/macos_32bit.mak
@@ -393,6 +393,7 @@ install: $(DESTDIR)$(INSTALL_BINDIR)vpnserver $(DESTDIR)$(INSTALL_BINDIR)vpnbrid
 
 $(DESTDIR)$(INSTALL_BINDIR)vpnserver: bin/vpnserver/hamcore.se2 bin/vpnserver/vpnserver
 	@mkdir -p $(DESTDIR)$(INSTALL_VPNSERVER_DIR)
+	@mkdir -p $(DESTDIR)$(INSTALL_BINDIR)
 	cp bin/vpnserver/hamcore.se2 $(DESTDIR)$(INSTALL_VPNSERVER_DIR)hamcore.se2
 	cp bin/vpnserver/vpnserver $(DESTDIR)$(INSTALL_VPNSERVER_DIR)vpnserver
 	echo "#!/bin/sh" > $(DESTDIR)$(INSTALL_BINDIR)vpnserver
@@ -402,6 +403,7 @@ $(DESTDIR)$(INSTALL_BINDIR)vpnserver: bin/vpnserver/hamcore.se2 bin/vpnserver/vp
 
 $(DESTDIR)$(INSTALL_BINDIR)vpnbridge: bin/vpnbridge/hamcore.se2 bin/vpnbridge/vpnbridge
 	@mkdir -p $(DESTDIR)$(INSTALL_VPNBRIDGE_DIR)
+	@mkdir -p $(DESTDIR)$(INSTALL_BINDIR)
 	cp bin/vpnbridge/hamcore.se2 $(DESTDIR)$(INSTALL_VPNBRIDGE_DIR)hamcore.se2
 	cp bin/vpnbridge/vpnbridge $(DESTDIR)$(INSTALL_VPNBRIDGE_DIR)vpnbridge
 	echo "#!/bin/sh" > $(DESTDIR)$(INSTALL_BINDIR)vpnbridge
@@ -411,6 +413,7 @@ $(DESTDIR)$(INSTALL_BINDIR)vpnbridge: bin/vpnbridge/hamcore.se2 bin/vpnbridge/vp
 
 $(DESTDIR)$(INSTALL_BINDIR)vpnclient: bin/vpnclient/hamcore.se2 bin/vpnclient/vpnclient
 	@mkdir -p $(DESTDIR)$(INSTALL_VPNCLIENT_DIR)
+	@mkdir -p $(DESTDIR)$(INSTALL_BINDIR)
 	cp bin/vpnclient/hamcore.se2 $(DESTDIR)$(INSTALL_VPNCLIENT_DIR)hamcore.se2
 	cp bin/vpnclient/vpnclient $(DESTDIR)$(INSTALL_VPNCLIENT_DIR)vpnclient
 	echo "#!/bin/sh" > $(DESTDIR)$(INSTALL_BINDIR)vpnclient
@@ -420,6 +423,7 @@ $(DESTDIR)$(INSTALL_BINDIR)vpnclient: bin/vpnclient/hamcore.se2 bin/vpnclient/vp
 
 $(DESTDIR)$(INSTALL_BINDIR)vpncmd: bin/vpncmd/hamcore.se2 bin/vpncmd/vpncmd
 	@mkdir -p $(DESTDIR)$(INSTALL_VPNCMD_DIR)
+	@mkdir -p $(DESTDIR)$(INSTALL_BINDIR)
 	cp bin/vpncmd/hamcore.se2 $(DESTDIR)$(INSTALL_VPNCMD_DIR)hamcore.se2
 	cp bin/vpncmd/vpncmd $(DESTDIR)$(INSTALL_VPNCMD_DIR)vpncmd
 	echo "#!/bin/sh" > $(DESTDIR)$(INSTALL_BINDIR)vpncmd
diff --git a/src/makefiles/macos_64bit.mak b/src/makefiles/macos_64bit.mak
index e28a6156..8d9a4ae9 100644
--- a/src/makefiles/macos_64bit.mak
+++ b/src/makefiles/macos_64bit.mak
@@ -393,6 +393,7 @@ install: $(DESTDIR)$(INSTALL_BINDIR)vpnserver $(DESTDIR)$(INSTALL_BINDIR)vpnbrid
 
 $(DESTDIR)$(INSTALL_BINDIR)vpnserver: bin/vpnserver/hamcore.se2 bin/vpnserver/vpnserver
 	@mkdir -p $(DESTDIR)$(INSTALL_VPNSERVER_DIR)
+	@mkdir -p $(DESTDIR)$(INSTALL_BINDIR)
 	cp bin/vpnserver/hamcore.se2 $(DESTDIR)$(INSTALL_VPNSERVER_DIR)hamcore.se2
 	cp bin/vpnserver/vpnserver $(DESTDIR)$(INSTALL_VPNSERVER_DIR)vpnserver
 	echo "#!/bin/sh" > $(DESTDIR)$(INSTALL_BINDIR)vpnserver
@@ -402,6 +403,7 @@ $(DESTDIR)$(INSTALL_BINDIR)vpnserver: bin/vpnserver/hamcore.se2 bin/vpnserver/vp
 
 $(DESTDIR)$(INSTALL_BINDIR)vpnbridge: bin/vpnbridge/hamcore.se2 bin/vpnbridge/vpnbridge
 	@mkdir -p $(DESTDIR)$(INSTALL_VPNBRIDGE_DIR)
+	@mkdir -p $(DESTDIR)$(INSTALL_BINDIR)
 	cp bin/vpnbridge/hamcore.se2 $(DESTDIR)$(INSTALL_VPNBRIDGE_DIR)hamcore.se2
 	cp bin/vpnbridge/vpnbridge $(DESTDIR)$(INSTALL_VPNBRIDGE_DIR)vpnbridge
 	echo "#!/bin/sh" > $(DESTDIR)$(INSTALL_BINDIR)vpnbridge
@@ -411,6 +413,7 @@ $(DESTDIR)$(INSTALL_BINDIR)vpnbridge: bin/vpnbridge/hamcore.se2 bin/vpnbridge/vp
 
 $(DESTDIR)$(INSTALL_BINDIR)vpnclient: bin/vpnclient/hamcore.se2 bin/vpnclient/vpnclient
 	@mkdir -p $(DESTDIR)$(INSTALL_VPNCLIENT_DIR)
+	@mkdir -p $(DESTDIR)$(INSTALL_BINDIR)
 	cp bin/vpnclient/hamcore.se2 $(DESTDIR)$(INSTALL_VPNCLIENT_DIR)hamcore.se2
 	cp bin/vpnclient/vpnclient $(DESTDIR)$(INSTALL_VPNCLIENT_DIR)vpnclient
 	echo "#!/bin/sh" > $(DESTDIR)$(INSTALL_BINDIR)vpnclient
@@ -420,6 +423,7 @@ $(DESTDIR)$(INSTALL_BINDIR)vpnclient: bin/vpnclient/hamcore.se2 bin/vpnclient/vp
 
 $(DESTDIR)$(INSTALL_BINDIR)vpncmd: bin/vpncmd/hamcore.se2 bin/vpncmd/vpncmd
 	@mkdir -p $(DESTDIR)$(INSTALL_VPNCMD_DIR)
+	@mkdir -p $(DESTDIR)$(INSTALL_BINDIR)
 	cp bin/vpncmd/hamcore.se2 $(DESTDIR)$(INSTALL_VPNCMD_DIR)hamcore.se2
 	cp bin/vpncmd/vpncmd $(DESTDIR)$(INSTALL_VPNCMD_DIR)vpncmd
 	echo "#!/bin/sh" > $(DESTDIR)$(INSTALL_BINDIR)vpncmd
diff --git a/src/makefiles/openbsd_32bit.mak b/src/makefiles/openbsd_32bit.mak
index feaa2289..56185c4a 100644
--- a/src/makefiles/openbsd_32bit.mak
+++ b/src/makefiles/openbsd_32bit.mak
@@ -393,6 +393,7 @@ install: $(DESTDIR)$(INSTALL_BINDIR)vpnserver $(DESTDIR)$(INSTALL_BINDIR)vpnbrid
 
 $(DESTDIR)$(INSTALL_BINDIR)vpnserver: bin/vpnserver/hamcore.se2 bin/vpnserver/vpnserver
 	@mkdir -p $(DESTDIR)$(INSTALL_VPNSERVER_DIR)
+	@mkdir -p $(DESTDIR)$(INSTALL_BINDIR)
 	cp bin/vpnserver/hamcore.se2 $(DESTDIR)$(INSTALL_VPNSERVER_DIR)hamcore.se2
 	cp bin/vpnserver/vpnserver $(DESTDIR)$(INSTALL_VPNSERVER_DIR)vpnserver
 	echo "#!/bin/sh" > $(DESTDIR)$(INSTALL_BINDIR)vpnserver
@@ -402,6 +403,7 @@ $(DESTDIR)$(INSTALL_BINDIR)vpnserver: bin/vpnserver/hamcore.se2 bin/vpnserver/vp
 
 $(DESTDIR)$(INSTALL_BINDIR)vpnbridge: bin/vpnbridge/hamcore.se2 bin/vpnbridge/vpnbridge
 	@mkdir -p $(DESTDIR)$(INSTALL_VPNBRIDGE_DIR)
+	@mkdir -p $(DESTDIR)$(INSTALL_BINDIR)
 	cp bin/vpnbridge/hamcore.se2 $(DESTDIR)$(INSTALL_VPNBRIDGE_DIR)hamcore.se2
 	cp bin/vpnbridge/vpnbridge $(DESTDIR)$(INSTALL_VPNBRIDGE_DIR)vpnbridge
 	echo "#!/bin/sh" > $(DESTDIR)$(INSTALL_BINDIR)vpnbridge
@@ -411,6 +413,7 @@ $(DESTDIR)$(INSTALL_BINDIR)vpnbridge: bin/vpnbridge/hamcore.se2 bin/vpnbridge/vp
 
 $(DESTDIR)$(INSTALL_BINDIR)vpnclient: bin/vpnclient/hamcore.se2 bin/vpnclient/vpnclient
 	@mkdir -p $(DESTDIR)$(INSTALL_VPNCLIENT_DIR)
+	@mkdir -p $(DESTDIR)$(INSTALL_BINDIR)
 	cp bin/vpnclient/hamcore.se2 $(DESTDIR)$(INSTALL_VPNCLIENT_DIR)hamcore.se2
 	cp bin/vpnclient/vpnclient $(DESTDIR)$(INSTALL_VPNCLIENT_DIR)vpnclient
 	echo "#!/bin/sh" > $(DESTDIR)$(INSTALL_BINDIR)vpnclient
@@ -420,6 +423,7 @@ $(DESTDIR)$(INSTALL_BINDIR)vpnclient: bin/vpnclient/hamcore.se2 bin/vpnclient/vp
 
 $(DESTDIR)$(INSTALL_BINDIR)vpncmd: bin/vpncmd/hamcore.se2 bin/vpncmd/vpncmd
 	@mkdir -p $(DESTDIR)$(INSTALL_VPNCMD_DIR)
+	@mkdir -p $(DESTDIR)$(INSTALL_BINDIR)
 	cp bin/vpncmd/hamcore.se2 $(DESTDIR)$(INSTALL_VPNCMD_DIR)hamcore.se2
 	cp bin/vpncmd/vpncmd $(DESTDIR)$(INSTALL_VPNCMD_DIR)vpncmd
 	echo "#!/bin/sh" > $(DESTDIR)$(INSTALL_BINDIR)vpncmd
diff --git a/src/makefiles/openbsd_64bit.mak b/src/makefiles/openbsd_64bit.mak
index 902a01af..1171b7b9 100644
--- a/src/makefiles/openbsd_64bit.mak
+++ b/src/makefiles/openbsd_64bit.mak
@@ -393,6 +393,7 @@ install: $(DESTDIR)$(INSTALL_BINDIR)vpnserver $(DESTDIR)$(INSTALL_BINDIR)vpnbrid
 
 $(DESTDIR)$(INSTALL_BINDIR)vpnserver: bin/vpnserver/hamcore.se2 bin/vpnserver/vpnserver
 	@mkdir -p $(DESTDIR)$(INSTALL_VPNSERVER_DIR)
+	@mkdir -p $(DESTDIR)$(INSTALL_BINDIR)
 	cp bin/vpnserver/hamcore.se2 $(DESTDIR)$(INSTALL_VPNSERVER_DIR)hamcore.se2
 	cp bin/vpnserver/vpnserver $(DESTDIR)$(INSTALL_VPNSERVER_DIR)vpnserver
 	echo "#!/bin/sh" > $(DESTDIR)$(INSTALL_BINDIR)vpnserver
@@ -402,6 +403,7 @@ $(DESTDIR)$(INSTALL_BINDIR)vpnserver: bin/vpnserver/hamcore.se2 bin/vpnserver/vp
 
 $(DESTDIR)$(INSTALL_BINDIR)vpnbridge: bin/vpnbridge/hamcore.se2 bin/vpnbridge/vpnbridge
 	@mkdir -p $(DESTDIR)$(INSTALL_VPNBRIDGE_DIR)
+	@mkdir -p $(DESTDIR)$(INSTALL_BINDIR)
 	cp bin/vpnbridge/hamcore.se2 $(DESTDIR)$(INSTALL_VPNBRIDGE_DIR)hamcore.se2
 	cp bin/vpnbridge/vpnbridge $(DESTDIR)$(INSTALL_VPNBRIDGE_DIR)vpnbridge
 	echo "#!/bin/sh" > $(DESTDIR)$(INSTALL_BINDIR)vpnbridge
@@ -411,6 +413,7 @@ $(DESTDIR)$(INSTALL_BINDIR)vpnbridge: bin/vpnbridge/hamcore.se2 bin/vpnbridge/vp
 
 $(DESTDIR)$(INSTALL_BINDIR)vpnclient: bin/vpnclient/hamcore.se2 bin/vpnclient/vpnclient
 	@mkdir -p $(DESTDIR)$(INSTALL_VPNCLIENT_DIR)
+	@mkdir -p $(DESTDIR)$(INSTALL_BINDIR)
 	cp bin/vpnclient/hamcore.se2 $(DESTDIR)$(INSTALL_VPNCLIENT_DIR)hamcore.se2
 	cp bin/vpnclient/vpnclient $(DESTDIR)$(INSTALL_VPNCLIENT_DIR)vpnclient
 	echo "#!/bin/sh" > $(DESTDIR)$(INSTALL_BINDIR)vpnclient
@@ -420,6 +423,7 @@ $(DESTDIR)$(INSTALL_BINDIR)vpnclient: bin/vpnclient/hamcore.se2 bin/vpnclient/vp
 
 $(DESTDIR)$(INSTALL_BINDIR)vpncmd: bin/vpncmd/hamcore.se2 bin/vpncmd/vpncmd
 	@mkdir -p $(DESTDIR)$(INSTALL_VPNCMD_DIR)
+	@mkdir -p $(DESTDIR)$(INSTALL_BINDIR)
 	cp bin/vpncmd/hamcore.se2 $(DESTDIR)$(INSTALL_VPNCMD_DIR)hamcore.se2
 	cp bin/vpncmd/vpncmd $(DESTDIR)$(INSTALL_VPNCMD_DIR)vpncmd
 	echo "#!/bin/sh" > $(DESTDIR)$(INSTALL_BINDIR)vpncmd
diff --git a/src/makefiles/solaris_32bit.mak b/src/makefiles/solaris_32bit.mak
index 9c61f7ad..321844d6 100644
--- a/src/makefiles/solaris_32bit.mak
+++ b/src/makefiles/solaris_32bit.mak
@@ -393,6 +393,7 @@ install: $(DESTDIR)$(INSTALL_BINDIR)vpnserver $(DESTDIR)$(INSTALL_BINDIR)vpnbrid
 
 $(DESTDIR)$(INSTALL_BINDIR)vpnserver: bin/vpnserver/hamcore.se2 bin/vpnserver/vpnserver
 	@mkdir -p $(DESTDIR)$(INSTALL_VPNSERVER_DIR)
+	@mkdir -p $(DESTDIR)$(INSTALL_BINDIR)
 	cp bin/vpnserver/hamcore.se2 $(DESTDIR)$(INSTALL_VPNSERVER_DIR)hamcore.se2
 	cp bin/vpnserver/vpnserver $(DESTDIR)$(INSTALL_VPNSERVER_DIR)vpnserver
 	echo "#!/bin/sh" > $(DESTDIR)$(INSTALL_BINDIR)vpnserver
@@ -402,6 +403,7 @@ $(DESTDIR)$(INSTALL_BINDIR)vpnserver: bin/vpnserver/hamcore.se2 bin/vpnserver/vp
 
 $(DESTDIR)$(INSTALL_BINDIR)vpnbridge: bin/vpnbridge/hamcore.se2 bin/vpnbridge/vpnbridge
 	@mkdir -p $(DESTDIR)$(INSTALL_VPNBRIDGE_DIR)
+	@mkdir -p $(DESTDIR)$(INSTALL_BINDIR)
 	cp bin/vpnbridge/hamcore.se2 $(DESTDIR)$(INSTALL_VPNBRIDGE_DIR)hamcore.se2
 	cp bin/vpnbridge/vpnbridge $(DESTDIR)$(INSTALL_VPNBRIDGE_DIR)vpnbridge
 	echo "#!/bin/sh" > $(DESTDIR)$(INSTALL_BINDIR)vpnbridge
@@ -411,6 +413,7 @@ $(DESTDIR)$(INSTALL_BINDIR)vpnbridge: bin/vpnbridge/hamcore.se2 bin/vpnbridge/vp
 
 $(DESTDIR)$(INSTALL_BINDIR)vpnclient: bin/vpnclient/hamcore.se2 bin/vpnclient/vpnclient
 	@mkdir -p $(DESTDIR)$(INSTALL_VPNCLIENT_DIR)
+	@mkdir -p $(DESTDIR)$(INSTALL_BINDIR)
 	cp bin/vpnclient/hamcore.se2 $(DESTDIR)$(INSTALL_VPNCLIENT_DIR)hamcore.se2
 	cp bin/vpnclient/vpnclient $(DESTDIR)$(INSTALL_VPNCLIENT_DIR)vpnclient
 	echo "#!/bin/sh" > $(DESTDIR)$(INSTALL_BINDIR)vpnclient
@@ -420,6 +423,7 @@ $(DESTDIR)$(INSTALL_BINDIR)vpnclient: bin/vpnclient/hamcore.se2 bin/vpnclient/vp
 
 $(DESTDIR)$(INSTALL_BINDIR)vpncmd: bin/vpncmd/hamcore.se2 bin/vpncmd/vpncmd
 	@mkdir -p $(DESTDIR)$(INSTALL_VPNCMD_DIR)
+	@mkdir -p $(DESTDIR)$(INSTALL_BINDIR)
 	cp bin/vpncmd/hamcore.se2 $(DESTDIR)$(INSTALL_VPNCMD_DIR)hamcore.se2
 	cp bin/vpncmd/vpncmd $(DESTDIR)$(INSTALL_VPNCMD_DIR)vpncmd
 	echo "#!/bin/sh" > $(DESTDIR)$(INSTALL_BINDIR)vpncmd
diff --git a/src/makefiles/solaris_64bit.mak b/src/makefiles/solaris_64bit.mak
index d309c616..7e628d04 100644
--- a/src/makefiles/solaris_64bit.mak
+++ b/src/makefiles/solaris_64bit.mak
@@ -393,6 +393,7 @@ install: $(DESTDIR)$(INSTALL_BINDIR)vpnserver $(DESTDIR)$(INSTALL_BINDIR)vpnbrid
 
 $(DESTDIR)$(INSTALL_BINDIR)vpnserver: bin/vpnserver/hamcore.se2 bin/vpnserver/vpnserver
 	@mkdir -p $(DESTDIR)$(INSTALL_VPNSERVER_DIR)
+	@mkdir -p $(DESTDIR)$(INSTALL_BINDIR)
 	cp bin/vpnserver/hamcore.se2 $(DESTDIR)$(INSTALL_VPNSERVER_DIR)hamcore.se2
 	cp bin/vpnserver/vpnserver $(DESTDIR)$(INSTALL_VPNSERVER_DIR)vpnserver
 	echo "#!/bin/sh" > $(DESTDIR)$(INSTALL_BINDIR)vpnserver
@@ -402,6 +403,7 @@ $(DESTDIR)$(INSTALL_BINDIR)vpnserver: bin/vpnserver/hamcore.se2 bin/vpnserver/vp
 
 $(DESTDIR)$(INSTALL_BINDIR)vpnbridge: bin/vpnbridge/hamcore.se2 bin/vpnbridge/vpnbridge
 	@mkdir -p $(DESTDIR)$(INSTALL_VPNBRIDGE_DIR)
+	@mkdir -p $(DESTDIR)$(INSTALL_BINDIR)
 	cp bin/vpnbridge/hamcore.se2 $(DESTDIR)$(INSTALL_VPNBRIDGE_DIR)hamcore.se2
 	cp bin/vpnbridge/vpnbridge $(DESTDIR)$(INSTALL_VPNBRIDGE_DIR)vpnbridge
 	echo "#!/bin/sh" > $(DESTDIR)$(INSTALL_BINDIR)vpnbridge
@@ -411,6 +413,7 @@ $(DESTDIR)$(INSTALL_BINDIR)vpnbridge: bin/vpnbridge/hamcore.se2 bin/vpnbridge/vp
 
 $(DESTDIR)$(INSTALL_BINDIR)vpnclient: bin/vpnclient/hamcore.se2 bin/vpnclient/vpnclient
 	@mkdir -p $(DESTDIR)$(INSTALL_VPNCLIENT_DIR)
+	@mkdir -p $(DESTDIR)$(INSTALL_BINDIR)
 	cp bin/vpnclient/hamcore.se2 $(DESTDIR)$(INSTALL_VPNCLIENT_DIR)hamcore.se2
 	cp bin/vpnclient/vpnclient $(DESTDIR)$(INSTALL_VPNCLIENT_DIR)vpnclient
 	echo "#!/bin/sh" > $(DESTDIR)$(INSTALL_BINDIR)vpnclient
@@ -420,6 +423,7 @@ $(DESTDIR)$(INSTALL_BINDIR)vpnclient: bin/vpnclient/hamcore.se2 bin/vpnclient/vp
 
 $(DESTDIR)$(INSTALL_BINDIR)vpncmd: bin/vpncmd/hamcore.se2 bin/vpncmd/vpncmd
 	@mkdir -p $(DESTDIR)$(INSTALL_VPNCMD_DIR)
+	@mkdir -p $(DESTDIR)$(INSTALL_BINDIR)
 	cp bin/vpncmd/hamcore.se2 $(DESTDIR)$(INSTALL_VPNCMD_DIR)hamcore.se2
 	cp bin/vpncmd/vpncmd $(DESTDIR)$(INSTALL_VPNCMD_DIR)vpncmd
 	echo "#!/bin/sh" > $(DESTDIR)$(INSTALL_BINDIR)vpncmd
-- 
2.17.0

